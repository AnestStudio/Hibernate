# Hibernate Query Language (HQL)

<br />

__Hibernate Query Language (HQL)__ là một ngôn ngữ truy vấn hướng đối tượng (OOP), tương tự như __SQL (Structured Query Language)__ nhưng thay vì làm việc trên các bảng và cột, __HQL__ làm việc với các đối tượng __persistent__ và các thuộc tính của chúng. Các truy vấn __HQL__ được đổi bởi Hibernate thành các truy vấn __SQL__ thông thường, lần lượt thực hiện các công việc trên cơ sở dữ liệu. Nhờ vậy mà nó là một ngôn ngữ truy vấn độc lập cơ sở dữ liệu, không phụ thuộc vào bất kỳ database nào.

Mặc dù, ta có thể sử dụng các câu lệnh __SQL__ trực tiếp với Hibernate bằng cách sử dụng __Native SQL__. Nhưng chúng ta nên sử dụng __HQL__ bất cứ khi nào có thể để tránh sự phức tạp về tính linh hoạt của cơ sở dữ liệu và tận dụng chiến lược __generation__ và __caching__ của Hibernate.

<br />

## 1. Lexical structure

### 1.1. Identifiers and case sensitivity

<br />

### 1.2. Comments

<br />

### 1.3. Parameters
| Parameter type | Examples |	Usage from Java |
| -------------- | -------- | --------------- |
| Named parameters      | `:name`, `:title`, `:id` | query.setParameter("name", name) |
| Ordinal parameters    | `?1`, `?2`, `?3`         | query.setParameter(1, name) |
| JDBC-style parameters | `?`                      | query.setParameter(1, name) |

<table>
  <thead>
    <tr>
      <th width="62px">#</th>
      <th width="300px">Parameter type</th>
      <th width="250px">Examples</th>
      <th width="400px">Usage from Java</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td align="center">1</td>
      <td align="left">Named parameters</td>
      <td align="right"><span>`:name`, `:title`, `:id`</span></td>
      <td align="left">query.setParameter("name", name)</td>
    </tr>
    <tr>
      <td align="center">2</td>
      <td align="left">Ordinal parameters</td>
      <td align="right"> `?1`, `?2`, `?3` </td>
      <td align="left">query.setParameter(1, name)</td>
    </tr>
    <tr>
      <td align="center">3</td>
      <td align="left">JDBC-style parameters</td>
      <td align="right"> `?` </td>
      <td align="left">query.setParameter(1, name)</td>
    </tr>
  </tbody>
</table>



<br />

## 2. Statement types

HQL có bốn loại câu lệnh khác nhau:
- `select` queries
- `update` statements
- `delete` statements
- `insert ... values` and `insert ... select` statements

Nói chung, `insert`, `update` và `delete` là các câu lệnh đôi khi được gọi là `mutation queries`.

<br />

### 1.1. INSERT statements

<br />

### 1.2. SELECT statements

<br />

### 1.3. FROM statements

<br />

### 1.4. WHERE statements

<br />

### 1.5. ORDER BY statements

<br />

### 1.6. GROUP BY statements

<br />

### 1.7. UPDATE statements

<br />

### 1.8. DELETE statements

<br />

## 2. JOIN

<br />
